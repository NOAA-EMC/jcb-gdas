covariance model: hybrid
components:
- covariance:
    covariance model: SABER
    saber central block:
      saber block name: diffusion
      read:
        groups:
        - variables: [tocn, socn, ssh]
          horizontal:
            filepath: ./staticb/hz_ocean
          vertical:
            levels: {{marine_vt_levels}}
            filepath: ./staticb/vt_ocean
        - variables: [cicen]
          horizontal:
            filepath: ./staticb/hz_ice

    saber outer blocks:
    - saber block name: StdDev
      read:
        model file:
          date: '{{marine_stddev_time}}'
          basename: ./staticb/
          ocn_filename: 'ocn.bkgerr_stddev.nc'
          ice_filename: 'ice.bkgerr_stddev.nc'
          read_from_file: 3

    linear variable change:
      input variables: [cicen, hicen, hsnon, socn, tocn, uocn, vocn, ssh]
      output variables: [cicen, hicen, hsnon, socn, tocn, uocn, vocn, ssh]
      linear variable changes:
      - linear variable change name: BalanceSOCA
  weight:
    value: 1.00

- covariance:
    covariance model: ensemble
    members from template:
      template:
        read_from_file: 1
        date: '{{marine_stddev_time}}'
        basename: ../ensdata/
        ocn_filename: 'ocn.pert.steric.%mem%.nc'
        ice_filename: 'ens/ice.%mem%.nc'
        state variables: [tocn, socn, ssh, uocn, vocn, cicen, hicen, hsnon]
      pattern: '%mem%'
      nmembers: '{{marine_number_ensemble_members}}'
    localization:
      localization method: SABER=
      saber central block:
        saber block name: diffusion
        read:
          groups:
          - variables: [tocn, socn, ssh]
            multivariate strategy: duplicated
            horizontal:
              filepath: ./staticb/hz_ocean
            vertical:
              strategy: duplicated
          - variables: [cicen]
            horizontal:
              filepath: ./staticb/hz_ice
  weight:
    read_from_file: 3
    basename: ./
    ocn_filename: 'ocean.ens_weights.nc'
    ice_filename: 'ice.ens_weights.nc'
    date: '{{marine_stddev_time}}'
